<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Build and Interpret Cron Strings with R • dialga</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Build and Interpret Cron Strings with R">
<meta property="og:description" content="Provide R integer vectors as inputs and get a standard cron string
    in return. You can also supply a cron string and get an English 
    interpretation in return.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">dialga</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/matt-dray/dialga/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><img src="https://raw.githubusercontent.com/matt-dray/stickers/master/output/dialga_hex.png" width="150" align="right"></p>
<div id="dialga" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#dialga" class="anchor"></a>{dialga}</h1></div>
<!-- badges: start -->
<p><a href="https://www.repostatus.org/#inactive"><img src="https://www.repostatus.org/badges/latest/inactive.svg" alt="Project Status: Inactive – The project has reached a stable, usable state but is no longer being actively developed; support/maintenance will be provided as time allows."></a> <a href="https://github.com/matt-dray/dialga/actions"><img src="https://github.com/matt-dray/dialga/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://codecov.io/gh/matt-dray/dialga?branch=main"><img src="https://codecov.io/gh/matt-dray/dialga/branch/main/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://www.codefactor.io/repository/github/matt-dray/dialga"><img src="https://www.codefactor.io/repository/github/matt-dray/dialga/badge" alt="CodeFactor"></a> <a href="https://www.rostrum.blog/2021/04/10/dialga/"><img src="https://img.shields.io/badge/rostrum.blog-post-008900?style=flat&amp;labelColor=black&amp;logo=data:image/gif;base64,R0lGODlhEAAQAPEAAAAAABWCBAAAAAAAACH5BAlkAAIAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAC55QkISIiEoQQQgghRBBCiCAIgiAIgiAIQiAIgSAIgiAIQiAIgRAEQiAQBAQCgUAQEAQEgYAgIAgIBAKBQBAQCAKBQEAgCAgEAoFAIAgEBAKBIBAQCAQCgUAgEAgCgUBAICAgICAgIBAgEBAgEBAgEBAgECAgICAgECAQIBAQIBAgECAgICAgICAgECAQECAQICAgICAgICAgEBAgEBAgEBAgICAgICAgECAQIBAQIBAgECAgICAgIBAgECAQECAQIBAgICAgIBAgIBAgEBAgECAgECAgICAgICAgECAgECAgQIAAAQIKAAAh+QQJZAACACwAAAAAEAAQAAAC55QkIiESIoQQQgghhAhCBCEIgiAIgiAIQiAIgSAIgiAIQiAIgRAEQiAQBAQCgUAQEAQEgYAgIAgIBAKBQBAQCAKBQEAgCAgEAoFAIAgEBAKBIBAQCAQCgUAgEAgCgUBAICAgICAgIBAgEBAgEBAgEBAgECAgICAgECAQIBAQIBAgECAgICAgICAgECAQECAQICAgICAgICAgEBAgEBAgEBAgICAgICAgECAQIBAQIBAgECAgICAgIBAgECAQECAQIBAgICAgIBAgIBAgEBAgECAgECAgICAgICAgECAgECAgQIAAAQIKAAA7" alt="rostrum.blog post"></a> <!-- badges: end --></p>
<div id="purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h2>
<p>{dialga} is an R package that lets you build and interpret standard <a href="https://en.wikipedia.org/wiki/Cron#CRON_expression">cron expressions</a> using familiar R syntax.</p>
<p>Cron is software for scheduling computer tasks (‘cron jobs’). Cron strings detail concisely the required schedule. They require a specific format, like <code>"0/15 * 1,3,20 6 0,6"</code>, but it can be difficult to remember how to structure them.</p>
<p>Read more in <a href="https://www.rostrum.blog/2021/04/10/dialga/">the accompanying blog post</a> and <a href="https://github.com/matt-dray/dialga/issues">report any bugs</a> you might find.</p>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p>Install from GitHub with help from {remotes}:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>  <span class="co"># if not already installed</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"matt-dray/dialga"</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dialga</span><span class="op">)</span></code></pre></div>
<p>If you want to be able to have the cron string output copied directly to your clipboard, you’ll need to install <a href="https://cran.r-project.org/package=clipr">the {clipr} package</a> to your machine with <code>install.packages("clipr")</code> as well. You don’t have to install it if you don’t want to.</p>
</div>
<div id="demonstration" class="section level2">
<h2 class="hasAnchor">
<a href="#demonstration" class="anchor"></a>Demonstration</h2>
<p>There’s currently two functions: <code><a href="reference/r2cron.html">r2cron()</a></code> takes integer vectors as inputs to time-period arguments and spits out a cron string, and <code><a href="reference/cron2eng.html">cron2eng()</a></code> takes a valid cron string and prints out a readable English version. See <code>?dialga::r2cron()</code> and <code>?dialga::cron2eng()</code> for further details.</p>
<div id="simple" class="section level3">
<h3 class="hasAnchor">
<a href="#simple" class="anchor"></a>Simple</h3>
<p>A simple example of <code><a href="reference/r2cron.html">r2cron()</a></code>: how would you specify the 28th minute past 11PM every day?</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/r2cron.html">r2cron</a></span><span class="op">(</span>
  minutes <span class="op">=</span> <span class="fl">28</span>, 
  hours <span class="op">=</span> <span class="fl">23</span>  <span class="co"># 24-hour clock</span>
<span class="op">)</span>

<span class="va">x</span>
<span class="co">#&gt; [1] "28 23 * * *"</span></code></pre></div>
<p>Note that you can use the argument <code>clip = TRUE</code> to have the output copied to your system’s clipboard so you can paste it elsewhere. You must install <a href="https://cran.r-project.org/package=clipr">the {clipr} package</a> separately if you want this functionality.</p>
<p>To interpret the output—and confirm we got what we expected—we can pass that cron string into <code><a href="reference/cron2eng.html">cron2eng()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/cron2eng.html">cron2eng</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; Cron string '28 23 * * *' means:</span>
<span class="co">#&gt;   - minute(s) 28</span>
<span class="co">#&gt;   - hour(s) 11PM</span>
<span class="co">#&gt;   - every day(s) of the month</span>
<span class="co">#&gt;   - every month(s)</span>
<span class="co">#&gt;   - any day(s) of the week</span></code></pre></div>
<p>The output isn’t sophisticated, but it communicates the point.</p>
<p>You could even pipe these functions together to go from R to English.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span>  <span class="co"># for %&gt;%</span>

<span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/r2cron.html">r2cron</a></span><span class="op">(</span>minutes <span class="op">=</span> <span class="fl">28</span>, hours <span class="op">=</span> <span class="fl">23</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/cron2eng.html">cron2eng</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Cron string '28 23 * * *' means:</span>
<span class="co">#&gt;   - minute(s) 28</span>
<span class="co">#&gt;   - hour(s) 11PM</span>
<span class="co">#&gt;   - every day(s) of the month</span>
<span class="co">#&gt;   - every month(s)</span>
<span class="co">#&gt;   - any day(s) of the week</span></code></pre></div>
</div>
<div id="complex" class="section level3">
<h3 class="hasAnchor">
<a href="#complex" class="anchor"></a>Complex</h3>
<p>A more complicated (i.e. contrived) request might be ‘every 20 minutes from the zeroth minute of 3PM, 4PM and 5PM, on the 1st days of April, October and November, plus every weekend’:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/r2cron.html">r2cron</a></span><span class="op">(</span>
 minutes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">59</span>, <span class="fl">20</span><span class="op">)</span>,
 hours <span class="op">=</span> <span class="fl">15</span><span class="op">:</span><span class="fl">17</span>,  <span class="co"># 24-hr clock</span>
 days_month <span class="op">=</span> <span class="fl">1</span>,
 months <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">10</span>, <span class="fl">11</span><span class="op">)</span>,
 days_week <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">7</span><span class="op">)</span>  <span class="co"># Sunday is '1'</span>
<span class="op">)</span>

<span class="va">y</span>
<span class="co">#&gt; [1] "0/20 15-17 1 4,10,11 0,6"</span></code></pre></div>
<p>And in English:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/cron2eng.html">cron2eng</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; Cron string '0/20 15-17 1 4,10,11 0,6' means:</span>
<span class="co">#&gt;   - every 20 minute(s) starting from minute(s) 0</span>
<span class="co">#&gt;   - hour(s) 3PM to 5PM</span>
<span class="co">#&gt;   - day(s) of the month 1</span>
<span class="co">#&gt;   - month(s) April, October and November</span>
<span class="co">#&gt;   - and day(s) of the week Sunday and Saturday</span></code></pre></div>
</div>
<div id="warnings" class="section level3">
<h3 class="hasAnchor">
<a href="#warnings" class="anchor"></a>Warnings</h3>
<p>As a courtesy, you’ll be warned when unlikely dates arise:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">dialga</span><span class="fu">::</span><span class="fu"><a href="reference/r2cron.html">r2cron</a></span><span class="op">(</span>days_month <span class="op">=</span> <span class="fl">28</span><span class="op">:</span><span class="fl">31</span>, months <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; Warning in dialga::r2cron(days_month = 28:31, months = 2): </span>
<span class="co">#&gt;   Sure? There's no 31st in Feb, Apr, Jun, Sept nor Nov.</span>
<span class="co">#&gt; Warning in dialga::r2cron(days_month = 28:31, months = 2): </span>
<span class="co">#&gt;   Sure? There's no 30th in Feb.</span>
<span class="co">#&gt; Warning in dialga::r2cron(days_month = 28:31, months = 2): </span>
<span class="co">#&gt;   Sure? 29 Feb is only in leap years.</span>
<span class="co">#&gt; [1] "* * 28-31 2 *"</span></code></pre></div>
</div>
</div>
<div id="actual-scheduling-tools" class="section level2">
<h2 class="hasAnchor">
<a href="#actual-scheduling-tools" class="anchor"></a>Actual scheduling tools</h2>
<p>If on Unix/Linux, you can use <a href="https://github.com/bnosac/cronR">the {cronR} package</a> to schedule tasks from R. The Windows alternative is <a href="https://github.com/bnosac/taskscheduleR">the {taskscheduleR} package</a>. I typically use the web service <a href="https://crontab.guru">crontab.guru</a> to build cron expressions. It was helpful for checking {dialga}’s functionality.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that the {dialga} project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/matt-dray/dialga/">https://​github.com/​matt-dray/​dialga/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/matt-dray/dialga/issues">https://​github.com/​matt-dray/​dialga/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matt Dray <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Matt Dray.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
